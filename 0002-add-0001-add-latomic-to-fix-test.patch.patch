From abd4812c2aa345552fe4a7cbfcd69c765d935d2f Mon Sep 17 00:00:00 2001
From: Zheng Junjie <zhengjunjie@iscas.ac.cn>
Date: Mon, 11 Nov 2024 12:35:24 +0800
Subject: [PATCH 2/2] add 0001-add-latomic-to-fix-test.patch.

---
 .../0001-add-latomic-to-fix-test.patch        | 25 +++++++++++++++++++
 debian/patches/series                         |  1 +
 2 files changed, 26 insertions(+)
 create mode 100644 debian/patches/0001-add-latomic-to-fix-test.patch
 create mode 100644 debian/patches/series

diff --git a/debian/patches/0001-add-latomic-to-fix-test.patch b/debian/patches/0001-add-latomic-to-fix-test.patch
new file mode 100644
index 00000000..d6ef29e1
--- /dev/null
+++ b/debian/patches/0001-add-latomic-to-fix-test.patch
@@ -0,0 +1,25 @@
+From dcfb003fce573be13a0185681ed6aa90a51cb6a6 Mon Sep 17 00:00:00 2001
+From: Zheng Junjie <zhengjunjie@iscas.ac.cn>
+Date: Mon, 11 Nov 2024 12:28:39 +0800
+Subject: [PATCH] add -latomic to fix test.
+
+---
+ test/CMakeLists.txt | 2 +-
+ 1 file changed, 1 insertion(+), 1 deletion(-)
+
+diff --git a/test/CMakeLists.txt b/test/CMakeLists.txt
+index eeab7e31..2788b571 100644
+--- a/test/CMakeLists.txt
++++ b/test/CMakeLists.txt
+@@ -8,7 +8,7 @@ target_include_directories(test_node_canopen_base_driver_ros PUBLIC
+   ${CMAKE_CURRENT_SOURCE_DIR}/../include/
+ )
+ target_link_libraries(test_node_canopen_base_driver_ros
+-  node_canopen_base_driver
++  node_canopen_base_driver -latomic
+ )
+ 
+ 
+-- 
+2.46.0
+
diff --git a/debian/patches/series b/debian/patches/series
new file mode 100644
index 00000000..846d44c7
--- /dev/null
+++ b/debian/patches/series
@@ -0,0 +1 @@
+0001-add-latomic-to-fix-test.patch
-- 
2.46.0

